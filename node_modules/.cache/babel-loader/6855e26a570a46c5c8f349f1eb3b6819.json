{"ast":null,"code":"var _jsxFileName = \"G:\\\\Newsbuzz-admin-web\\\\Newsbuzz-react\\\\src\\\\components\\\\userForm.jsx\";\nimport React from \"react\";\nimport Joi from \"joi-browser\";\nimport Form from \"./common/form\";\nimport { getUser, saveUser } from \"../services/fakeUserService\";\nimport { getTypes } from \"../services/fakeUserLevelService\";\n\nclass UserForm extends Form {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: {\n        title: \"\",\n        genreId: \"\",\n        numberInStock: \"\",\n        dailyRentalRate: \"\"\n      },\n      genres: [],\n      errors: {}\n    };\n    this.schema = {\n      _id: Joi.string(),\n      title: Joi.string().required().label(\"Title\"),\n      genreId: Joi.string().required().label(\"Genre\"),\n      numberInStock: Joi.number().required().label(\"Number in Stock\"),\n      dailyRentalRate: Joi.number().required().min(0).max(10).label(\"Daily Rental Rate\")\n    };\n\n    this.doSubmit = () => {\n      saveUser(this.state.data);\n      this.props.history.push(\"/dashboard/users\");\n    };\n  }\n\n  componentDidMount() {\n    const genres = getTypes();\n    this.setState({\n      genres\n    });\n    const movieId = this.props.match.params.id;\n    if (movieId === \"new\") return;\n    const movie = getUser(movieId);\n    if (!movie) return this.props.history.replace(\"/not-found\");\n    this.setState({\n      data: this.mapToViewModel(movie)\n    });\n  }\n\n  mapToViewModel(movie) {\n    return {\n      _id: movie._id,\n      title: movie.title,\n      genreId: movie.genre._id,\n      numberInStock: movie.numberInStock,\n      dailyRentalRate: movie.dailyRentalRate\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container my-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 5\n      }\n    }, \"User Form\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 5\n      }\n    }, this.renderInput(\"title\", \"Name\"), this.renderSelect(\"genreId\", \"Type\", this.state.genres), this.renderInput(\"numberInStock\", \"Phone Number\", \"number\"), this.renderInput(\"dailyRentalRate\", \"Rate\"), this.renderButton(\"Save\")));\n  }\n\n}\n\nexport default UserForm;","map":{"version":3,"sources":["G:/Newsbuzz-admin-web/Newsbuzz-react/src/components/userForm.jsx"],"names":["React","Joi","Form","getUser","saveUser","getTypes","UserForm","state","data","title","genreId","numberInStock","dailyRentalRate","genres","errors","schema","_id","string","required","label","number","min","max","doSubmit","props","history","push","componentDidMount","setState","movieId","match","params","id","movie","replace","mapToViewModel","genre","render","handleSubmit","renderInput","renderSelect","renderButton"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Joi from \"joi-browser\";\r\nimport Form from \"./common/form\";\r\nimport { getUser, saveUser } from \"../services/fakeUserService\";\r\nimport { getTypes } from \"../services/fakeUserLevelService\";\r\n\r\nclass UserForm extends Form {\r\n\tstate = {\r\n\t\tdata: {\r\n\t\t\ttitle: \"\",\r\n\t\t\tgenreId: \"\",\r\n\t\t\tnumberInStock: \"\",\r\n\t\t\tdailyRentalRate: \"\"\r\n\t\t},\r\n\t\tgenres: [],\r\n\t\terrors: {}\r\n\t};\r\n\r\n\tschema = {\r\n\t\t_id: Joi.string(),\r\n\t\ttitle: Joi.string()\r\n\t\t\t.required()\r\n\t\t\t.label(\"Title\"),\r\n\t\tgenreId: Joi.string()\r\n\t\t\t.required()\r\n\t\t\t.label(\"Genre\"),\r\n\t\tnumberInStock: Joi.number()\r\n\t\t\t.required()\r\n\t\t\t.label(\"Number in Stock\"),\r\n\t\tdailyRentalRate: Joi.number()\r\n\t\t\t.required()\r\n\t\t\t.min(0)\r\n\t\t\t.max(10)\r\n\t\t\t.label(\"Daily Rental Rate\")\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst genres = getTypes();\r\n\t\tthis.setState({ genres });\r\n\r\n\t\tconst movieId = this.props.match.params.id;\r\n\t\tif (movieId === \"new\") return;\r\n\r\n\t\tconst movie = getUser(movieId);\r\n\t\tif (!movie) return this.props.history.replace(\"/not-found\");\r\n\r\n\t\tthis.setState({ data: this.mapToViewModel(movie) });\r\n\t}\r\n\r\n\tmapToViewModel(movie) {\r\n\t\treturn {\r\n\t\t\t_id: movie._id,\r\n\t\t\ttitle: movie.title,\r\n\t\t\tgenreId: movie.genre._id,\r\n\t\t\tnumberInStock: movie.numberInStock,\r\n\t\t\tdailyRentalRate: movie.dailyRentalRate\r\n\t\t};\r\n\t}\r\n\r\n\tdoSubmit = () => {\r\n\t\tsaveUser(this.state.data);\r\n\t\tthis.props.history.push(\"/dashboard/users\");\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"container my-5\">\r\n\t\t\t\t<h1>User Form</h1>\r\n\t\t\t\t<form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t{this.renderInput(\"title\", \"Name\")}\r\n\t\t\t\t\t{this.renderSelect(\"genreId\", \"Type\", this.state.genres)}\r\n\t\t\t\t\t{this.renderInput(\"numberInStock\", \"Phone Number\", \"number\")}\r\n\t\t\t\t\t{this.renderInput(\"dailyRentalRate\", \"Rate\")}\r\n\t\t\t\t\t{this.renderButton(\"Save\")}\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default UserForm;\r\n"]},"metadata":{},"sourceType":"module"}